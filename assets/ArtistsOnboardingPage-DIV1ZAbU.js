import{r as o,j as e,H as F,L as j,C,a as w,b as y,d as S,p as u,I as x,B as p}from"./index-CJr4JcH9.js";const B={audioFile:null,artworkFile:null,title:"",artist:"",genre:"",releaseDate:""};function q(){const[a,c]=o.useState(1),[r,n]=o.useState(B),[s,d]=o.useState({}),[g,f]=o.useState(!1),v=o.useMemo(()=>a===1?"Upload track":a===2?"Upload artwork":"Metadata",[a]),l=(t,i)=>{n(m=>({...m,[t]:i})),d(m=>({...m,[t]:void 0}))},k=()=>{const t={};return a===1&&!r.audioFile&&(t.audioFile="Please upload an audio file."),a===2&&!r.artworkFile&&(t.artworkFile="Please upload artwork."),a===3&&(r.title.trim()||(t.title="Title is required."),r.artist.trim()||(t.artist="Artist name is required."),r.genre.trim()||(t.genre="Genre is required."),r.releaseDate.trim()||(t.releaseDate="Release date is required.")),d(t),Object.keys(t).length===0},N=()=>{if(k()){if(a<3){c(t=>t+1);return}f(!0)}},b=()=>{d({}),c(t=>Math.max(1,t-1))};return e.jsxs("div",{className:"min-h-screen bg-background text-foreground overflow-x-hidden",children:[e.jsx(F,{}),e.jsxs("main",{className:"max-w-4xl mx-auto px-6 py-16",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(j,{to:"/artists",className:"text-sm text-music-primary hover:underline",children:"â† Back to Artists"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-semibold mt-4",children:"Artists onboarding"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Create a release draft in three quick steps."})]}),e.jsxs(C,{className:"bg-white/5 border-white/10 backdrop-blur-lg",children:[e.jsxs(w,{children:[e.jsxs("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:["Step ",a," of 3"]}),e.jsx(y,{children:v})]}),e.jsx(S,{className:"space-y-6",children:g?e.jsx(D,{}):e.jsxs(e.Fragment,{children:[a===1?e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"audio",children:"Track file"}),e.jsx(x,{id:"audio",type:"file",accept:"audio/*","aria-invalid":!!s.audioFile,onChange:t=>{var i;return l("audioFile",((i=t.target.files)==null?void 0:i[0])??null)}}),s.audioFile?e.jsx("p",{className:"text-sm text-destructive",children:s.audioFile}):null]}):null,a===2?e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"artwork",children:"Artwork file"}),e.jsx(x,{id:"artwork",type:"file",accept:"image/*","aria-invalid":!!s.artworkFile,onChange:t=>{var i;return l("artworkFile",((i=t.target.files)==null?void 0:i[0])??null)}}),s.artworkFile?e.jsx("p",{className:"text-sm text-destructive",children:s.artworkFile}):null]}):null,a===3?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(h,{label:"Track title",value:r.title,onChange:t=>l("title",t),error:s.title}),e.jsx(h,{label:"Artist",value:r.artist,onChange:t=>l("artist",t),error:s.artist}),e.jsx(h,{label:"Genre",value:r.genre,onChange:t=>l("genre",t),error:s.genre}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"releaseDate",children:"Release date"}),e.jsx(x,{id:"releaseDate",type:"date",value:r.releaseDate,"aria-invalid":!!s.releaseDate,onChange:t=>l("releaseDate",t.target.value)}),s.releaseDate?e.jsx("p",{className:"text-sm text-destructive",children:s.releaseDate}):null]})]}):null,e.jsxs("div",{className:"flex justify-between gap-3 pt-4",children:[e.jsx(p,{type:"button",variant:"outline",onClick:b,disabled:a===1,children:"Back"}),e.jsx(p,{type:"button",variant:"musicPrimary",onClick:N,children:a===3?"Create draft":"Next"})]})]})})]})]})]})}function h({label:a,value:c,onChange:r,error:n}){const s=a.toLowerCase().replace(/\s+/g,"-");return e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:s,children:a}),e.jsx(x,{id:s,value:c,"aria-invalid":!!n,onChange:d=>r(d.target.value)}),n?e.jsx("p",{className:"text-sm text-destructive",children:n}):null]})}function D(){return e.jsxs("div",{className:"rounded-xl border border-emerald-500/30 bg-emerald-500/10 p-5",children:[e.jsx("h2",{className:"text-xl font-semibold text-emerald-300",children:"Release draft created"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Your draft is saved. Next step is distributor delivery and store scheduling."}),e.jsx(p,{asChild:!0,variant:"musicPrimary",className:"mt-4",children:e.jsx(j,{to:"/artists",children:"Back to Artists page"})})]})}export{q as default};
